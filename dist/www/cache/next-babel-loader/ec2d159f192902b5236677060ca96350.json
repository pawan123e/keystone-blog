{"ast":null,"code":"var _jsxFileName = \"E:\\\\web Developer Projects\\\\keystone_blog\\\\app\\\\pages\\\\index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport gql from 'graphql-tag';\nimport { useQuery } from '@apollo/react-hooks';\nimport { jsx } from '@emotion/core';\nimport { format, parseISO } from 'date-fns';\nimport Layout from '../templates/layout';\nimport Header from '../components/header';\nimport { withApollo } from '../lib/apollo';\nimport styled from 'styled-components';\n/** @jsx jsx */\n\nconst Post = ({\n  post\n}) => {\n  return jsx(Link, {\n    href: `/post/[slug]?slug=${post.slug}`,\n    as: `/post/${post.slug}`,\n    passHref: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 5\n    }\n  }, jsx(\"a\", {\n    css: {\n      display: 'block',\n      background: 'white',\n      boxShadow: '0px 10px 20px hsla(200, 20%, 20%, 0.20)',\n      marginBottom: 32,\n      cursor: 'pointer',\n      borderRadius: 6,\n      overflow: 'hidden'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }\n  }, post.image ? jsx(\"img\", {\n    src: post.image.publicUrl,\n    css: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 23\n    }\n  }) : null, jsx(\"article\", {\n    css: {\n      padding: '1em'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, jsx(\"h3\", {\n    css: {\n      marginTop: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 11\n    }\n  }, post.title), jsx(\"section\", {\n    dangerouslySetInnerHTML: {\n      __html: post.body\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }\n  }), jsx(\"div\", {\n    css: {\n      marginTop: '1em',\n      borderTop: '1px solid hsl(200, 20%, 80%)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 11\n    }\n  }, jsx(\"p\", {\n    css: {\n      fontSize: '0.8em',\n      marginBottom: 0,\n      color: 'hsl(200, 20%, 50%)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, \"Posted by \", post.author ? post.author.name : 'someone', \" on\", ' ', format(parseISO(post.posted), 'dd/MM/yyyy'))))));\n};\n\nexport default withApollo(() => {\n  const {\n    data,\n    loading,\n    error\n  } = useQuery(gql`\n    query {\n      allPosts {\n        title\n        id\n        body\n        posted\n        slug\n        image {\n          publicUrl\n        }\n        author {\n          name\n        }\n      }\n    }\n  `);\n  return jsx(IndexWrap, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, jsx(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }), jsx(\"section\", {\n    css: {\n      margin: '48px 0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, \"About\"), jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, \"This blog was created in KeystoneJS, a fantastic open source framework for developing database-driven websites, applications and APIs in Node.js and GraphQL.\")), jsx(\"section\", {\n    css: {\n      margin: '48px 0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, \"Latest Posts\"), loading ? jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, \"loading...\") : error ? jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, \"Error!\") : jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, data.allPosts.length ? data.allPosts.map(post => jsx(Post, {\n    post: post,\n    key: post.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 41\n    }\n  })) : jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, \"No posts to display\")))));\n});\nconst IndexWrap = styled.div`\n\n`;","map":{"version":3,"sources":["E:/web Developer Projects/keystone_blog/app/pages/index.js"],"names":["Link","gql","useQuery","jsx","format","parseISO","Layout","Header","withApollo","styled","Post","post","slug","display","background","boxShadow","marginBottom","cursor","borderRadius","overflow","image","publicUrl","width","padding","marginTop","title","__html","body","borderTop","fontSize","color","author","name","posted","data","loading","error","margin","allPosts","length","map","id","IndexWrap","div"],"mappings":"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","sourcesContent":["import Link from 'next/link';\n\nimport gql from 'graphql-tag';\nimport { useQuery } from '@apollo/react-hooks';\n\nimport { jsx } from '@emotion/core';\nimport { format, parseISO } from 'date-fns';\n\nimport Layout from '../templates/layout';\nimport Header from '../components/header';\nimport { withApollo } from '../lib/apollo';\nimport styled from 'styled-components';\n\n/** @jsx jsx */\n\nconst Post = ({ post }) => {\n  return (\n    <Link href={`/post/[slug]?slug=${post.slug}`} as={`/post/${post.slug}`} passHref>\n      <a\n        css={{\n          display: 'block',\n          background: 'white',\n          boxShadow: '0px 10px 20px hsla(200, 20%, 20%, 0.20)',\n          marginBottom: 32,\n          cursor: 'pointer',\n          borderRadius: 6,\n          overflow: 'hidden',\n        }}\n      >\n        {post.image ? <img src={post.image.publicUrl} css={{ width: '100%' }} /> : null}\n        <article css={{ padding: '1em' }}>\n          <h3 css={{ marginTop: 0 }}>{post.title}</h3>\n          <section dangerouslySetInnerHTML={{ __html: post.body }} />\n          <div css={{ marginTop: '1em', borderTop: '1px solid hsl(200, 20%, 80%)' }}>\n            <p css={{ fontSize: '0.8em', marginBottom: 0, color: 'hsl(200, 20%, 50%)' }}>\n              Posted by {post.author ? post.author.name : 'someone'} on{' '}\n              {format(parseISO(post.posted), 'dd/MM/yyyy')}\n            </p>\n          </div>\n        </article>\n      </a>\n    </Link>\n  );\n};\n\nexport default withApollo(() => {\n  const { data, loading, error } = useQuery(gql`\n    query {\n      allPosts {\n        title\n        id\n        body\n        posted\n        slug\n        image {\n          publicUrl\n        }\n        author {\n          name\n        }\n      }\n    }\n  `);\n\n  return (\n    <IndexWrap>\n    <Layout>\n      <Header />\n      <section css={{ margin: '48px 0' }}>\n        <h2>About</h2>\n        <p>\n          This blog was created in KeystoneJS, a fantastic open source framework for developing\n          database-driven websites, applications and APIs in Node.js and GraphQL.\n        </p>\n      </section>\n\n      <section css={{ margin: '48px 0' }}>\n        <h2>Latest Posts</h2>\n        {loading ? (\n          <p>loading...</p>\n        ) : error ? (\n          <p>Error!</p>\n        ) : (\n          <div>\n            {data.allPosts.length ? (\n              data.allPosts.map(post => <Post post={post} key={post.id} />)\n            ) : (\n              <p>No posts to display</p>\n            )}\n          </div>\n        )}\n      </section>\n    </Layout>\n    </IndexWrap>\n  );\n});\n\nconst IndexWrap = styled.div`\n\n`\n"]},"metadata":{},"sourceType":"module"}